## Template-Programming in R

```{r eval=FALSE, echo=FALSE}
knitr::knit("Readme.Rmd", "Readme.md")
```

### Some examples

#### MySQL Queries:

```{r}
library("templates")
library("magrittr")

sqlTemplate <- template(
  `SELECT *
   FROM someTable
   WHERE something IN {{ collapseInParan(ids) }};`
)

collapseInParan <- function(x) {
  paste("(", paste(x, collapse = ", "), ")")
}

update(
  sqlTemplate, 
  ids = 1:10
)
```


### Some ideas on working with templates in R

#### Functions:

```{r}
tFun <- function() {
  s <- "great idea!!!"
  cat({{ toupper(begin) }}, s, "\n")
  invisible(NULL)
}

update(tFun, begin ~ "This is a")
update(tFun, begin ~ "This is a", eval = FALSE)
```


#### Expressions:

```{r}
tExpr <- template({
  cat({{ toupper(begin) }}, "\n")
})

update(tExpr, begin ~ "hi", eval = TRUE)
as.function(tExpr, begin ~ "hi")()
```


#### Character:

```{r}
tChar <- template('{
  cat({{ toupper(begin) }}, "\n")
}')

tChar %>%
  update(begin ~ "hi") %>%
  templateEvalHere
```
