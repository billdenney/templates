## Template-Programming in R

```{r eval=FALSE, echo=FALSE}
knitr::knit("Readme.Rmd", "Readme.md")
```

### Some examples

#### MySQL Queries:

```{r}
library("templates")
library("magrittr")

sqlTemplate <- tmpl(
  ~ `SELECT *
   FROM someTable
   WHERE something IN {{ collapseInParan(ids) }};`
)

collapseInParan <- function(x) {
  paste("(", paste(x, collapse = ", "), ")")
}

tmpl(
  sqlTemplate, 
  ids = 1:10
)
```


### Some ideas on working with templates in R

#### Functions:

```{r}
tFun <- function() {
  s <- "great idea!!!"
  cat({{ toupper(begin) }}, s, "\n")
  invisible(NULL)
}

tmpl(tFun, begin ~ "This is a")
```


#### Expressions:

```{r}
tExpr <- tmpl( ~ {
  cat({{ toupper(begin) }}, "\n")
})

tmpl(tExpr, begin ~ "hi")
as.function(tExpr, begin ~ "hi")()
```


#### Character:

```{r}
tChar <- tmpl('{
  cat({{ toupper(begin) }}, "\n")
}')

tChar %>%
  tmpl(begin ~ "hi") %>%
  tmplEval
```
